<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>User App</title>
</head>

<body>

<h2>User</h2>

<input id="pickup" placeholder="Pickup location">
<br><br>
<input id="drop" placeholder="Drop location">
<br><br>

<button onclick="bookRide()">Book Ride</button>

<p id="status"></p>

<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
<script>
const socket = io("http://localhost:3000");

const pickup = document.getElementById("pickup");
const drop = document.getElementById("drop");
const statusEl = document.getElementById("status");

function bookRide(){
  socket.emit("book-ride", {
    pickup: pickup.value,
    drop: drop.value,
    fare: 220
  });

  statusEl.innerText = "ðŸš• Searching driver...";
}

socket.on("ride-update", (ride) => {
  statusEl.innerText = "Status: " + ride.status;
});
</script>

</body>
</html>
